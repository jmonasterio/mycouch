# ============================================================
# COUCHDB JWT PROXY - ENVIRONMENT CONFIGURATION
# ============================================================
# IMPORTANT: Never commit this file to version control.
# Copy this file to .env and fill in the actual values.
# ============================================================

# ============================================================
# JWT AUTHENTICATION - CLERK (RS256)
# ============================================================

# Clerk JWT Validation (RS256 - asymmetric)
# REQUIRED: Your Clerk issuer URL for JWT validation
# Format: https://your-instance.clerk.accounts.dev
# Find this in your Clerk Dashboard → Configure → API Keys → Issuer URL
CLERK_ISSUER_URL=

# ============================================================
# COUCHDB CONFIGURATION
# ============================================================

# Internal CouchDB URL (not exposed to public, only for proxy)
# For local Docker: http://localhost:5984
# For Linux server: http://couchdb.example.com:5984 (or 127.0.0.1:5984)
COUCHDB_INTERNAL_URL=http://localhost:5984

# CouchDB credentials for proxy authentication
# These are used by the proxy to connect to CouchDB internally
COUCHDB_USER=admin
COUCHDB_PASSWORD=

# ============================================================
# PROXY SERVER CONFIGURATION
# ============================================================

# Listen IP address
# 0.0.0.0 = all network interfaces (accessible remotely)
# 127.0.0.1 = localhost only (not accessible remotely)
# 192.168.1.100 = specific interface
PROXY_HOST=0.0.0.0

# Listen port (default CouchDB is 5984, proxy uses 5985)
PROXY_PORT=5985

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# ============================================================
# MULTI-TENANT CONFIGURATION (Optional)
# ============================================================

# Enable tenant mode for multi-tenant deployments
# When enabled: documents are isolated by tenant_id
ENABLE_TENANT_MODE=false

# JWT claim name that contains the tenant ID
# The proxy extracts this claim to identify which tenant is making the request
TENANT_CLAIM=tenant_id

# Document field name for tenant isolation
# Documents will be filtered/injected with this field
TENANT_FIELD=tenant_id
